Splunk: Configurando Laboratório

Na VM com Linux, acesse: https://www.splunk.com/
Botão: Trials & Downloads
Crie uma conta e valide via e-mail

Quando logar, acessar link: Free Trials and Downloads page

Splunk Enterprise -> Get My Free Trial

Quando terminar o download do arquivo. Instalar Splunk Enterprise 9.x via Terminal

sudo tar xvzf splunk-9<xx>.tgz -C /opt

cd /opt/splunk/bin

Splunk CLI commands
  ./splunk start
  ./splunk stop
  ./splunk restart
  ./splunk help

sudo ./splunk start --accept-license

Definir credencial:
  administrator username:
  password:

Acessar interface Web:
  http://127.0.0.1:8000


Splunk: Iniciando

Conforme a documentação do Splunk, quando dados são adicionados ao Splunk, eles são processados ​​e transformados em uma série de eventos individuais.
As fontes de dados podem ser logs de eventos, logs de sites, logs de firewall, etc. As fontes de dados são agrupadas em categorias. 
  https://docs.splunk.com/Documentation/Splunk/9.4.1/SearchTutorial/AboutgettingdataintoSplunk

Primeira ação: Upload do arquivo de dados

A partir da tela inicial do Splunk, opção Upload ou clique em Settings > Add Data, para carregar os dados da nossa máquina local. 
Baixe o arquivo de log VPN-logs.json (Teams) e carregue-o no Splunk.

Select Source: Selecionamos a fonte do Log (VPN-logs.json).
Select Source Type: Selecione que tipo de logs estão sendo ingeridos.
Input Settings: Selecione o índice onde esses logs serão despejados e o hostName a ser associado aos logs.
  - Host filed value: VPN_Connection
  - Create a new index: vpn_logs
Review: Revise as entradas
Done: Etapa final, onde os dados são carregados e estão prontos para serem analisados.

Tarefa: 
  Carregue os dados VPN_Logs e responda: 

  - Quantos eventos estão presentes no arquivo de log?
  - Quantos eventos de log do usuário Maleena são capturados?
  - Qual é o nome associado ao IP 107.14.182.38?
  - Qual é o número de eventos originados de todos os países, exceto França?
  - Quantos eventos VPN foram observados pelo IP 107.3.206.58?

Segunda ação: Upload do arquivo de dados compactado

Carregue os dados tutorialdata.zip. O arquivo deve permanecer compactado para que seja carregado com sucesso. 

Clique Settings > Add Data
Clique em Upload
Selecione tutorialdata.zip e clique em Open
Input Settings
  - Segment in path, digite 1
Review
Done

